\section{Case Studies of Individual Sequences}
\label{sec:results/section_b}

In this section, we will look into tracking performance on the individual sequences to extend the analysis of all video sequences obtained in the previous section. Out of 12 video samples, we observed that most are consistent with the hypothesis that tracking performance scores decrease as QP increases, and the performance on the compressed sequences is lower than on uncompressed sequences. However, in some video samples, the performance scores increase midway through the QP range, but start decreasing at high QP, so it may happen that the performance on a compressed sequence with a moderate QP is better than the uncompressed one. These exceptional cases were observed in Cactus, BlowingBubbles, FourPeople, and KristenAndSara. To uncover the reason for this, we will examine the video samples: BasketballPass, Johnny, BlowingBubbles, and Cactus as case studies. Instead of tracking "all" object classes, we limit the tracking to the "person" object class in this analysis. The "person" object class is "cleaner" in terms of results than other classes, because the "person" class is more frequently present across the frames; in contrast, other object classes such as "sports ball" and "handbag" are rarely observed. We also included the "potted plant" class in Cactus. As different MSR did not impact the tracking performance according to the previous section, we selected MSR = 16 in the following analysis. Finally, we primarily focused on the MOTA score since this metric correlates the most with the human subjective impression of tracking according to \cite{leal-taixe_motchallenge_2015}. Since MOTA is defined in terms of FN, FP, and IDs from Equation \eqref{eqn:MOTA}, we will examine each of these metrics closely.


\subsection{BasketballPass}
We examined the results from the video sequence BasketballPass. This sequence consists of 7 "person" objects, and the occlusion frequently occurs in the video. Figure \ref{fig:BasketballPass_0_multiplots_qp} shows all the performance scores at different QPs at MSR = 16 and Table \ref{tab:BasketballPass_0} shows each numerical value. 
\input{tex/figures/BasketballPass_0_multiplots_qp}
\input{tex/tables/BasketballPass_0}
The results are consistent with the average results shown in Section \ref{sec:results/section_a}, such that the performance decreases as QP increases on most of the metrics except IDP and MOTP. To examine the results more thoroughly, we inspected the video sequence frame by frame at different QP.
\input{tex/figures/BasketballPass_0_frame320}
Figure \ref{fig:BasketballPass_0_frame320} shows the comparison of ground truth, tracking results without compression, and results with compression at different QP in the BasketballPass sequence at frame 320, as an example. This comparison illustrates that the higher the QP, the lower the image quality. As the quality decreases, the YOLOv3 detector starts failing to detect the "person" objects, and hence the FN increases. We also confirmed that IDs decreases because the number of detected objects decreases; therefore, the number of times the objects that are considered occluded also decreases. When the number of detected occlusion decreases, ID switch on the trajectories should decrease, since SORT does not have a feature to perform re-identification (re-ID) of the object identities. An example of this situation is shown in Figure \ref{fig:BasketballPass_0_IDs}.
\input{tex/figures/BasketballPass_0_IDs}
The detected occlusion is shown in the uncompressed frames from 81 to 103, where the identities of two "person" objects are swapped due to occlusion. That same occlusion is not detected in the compressed frames at QP = 46. From FN, FP, and IDs, the increase of FN is significantly larger than the decrease of IDs and FP, so we conclude that MOTA decreases as QP increases based on Equation \eqref{eqn:MOTA}. 

From Figure \ref{fig:BasketballPass_0_multiplots_qp}, we observed that IDP increases. As we confirmed that the number of occlusions decreases as QP increases, we can verify that IDFP will also decrease. Hence, based on the IDP equation \eqref{eqn:IDP}, due to the drop of IDFP, IDP increases. This result can also be explained qualitatively as follows; as QP increases, the detected occlusion occurs less, so the incorrect ID assignments occur less, making ID precision higher at a higher QP.

\subsection{Johnny}
The Johnny sequence consists of 9 "person" objects. Occlusion was not observed, and the objects scarcely move. Figure \ref{fig:Johnny_0_multiplots_qp} shows a visualization of all the performance metrics at different QP, and Table \ref{tab:Johnny_0} shows the corresponding numerical values.
\input{tex/figures/Johnny_0_multiplots_qp}
\input{tex/tables/Johnny_0}
This result reveals that the most performance metrics decrease as QP increases similar to the case of BasketballPass. The decrease of performance can be verified from Figure \ref{fig:Johnny_0_frame400}, as the objects are starting to not be detected at higher QP values.
\input{tex/figures/Johnny_0_frame400}
The decrease of detections explains the increase of FN. ID switch did not occur in the uncompressed sequence but was observed in the higher QP in the compressed sequence. Therefore, unlike in BasketballPass there is an increase in IDs at higher QP. The increase of IDs can be explained qualitatively as follows; since there is no occlusion in this sequence, ID switch between the trajectories does not occur at lower QP, but starts to occur at high QP as the image quality drops and different identities are assigned to the same trajectory. As the image quality drops, the objects starts to not be detected in some sequence of frames. As a result of "gap" in the trajectory, in other words, after a certain number of frames in which objects are not detected, different object identities are assigned to the targets after objects are detected again. Therefore, IDs increases as QP increases. As an example from Figure \ref{fig:Johnny_0_IDs}, the identity of one "person" object did not change in the uncompressed frames 282 to 290, but changed in the compressed frames at QP = 46.
\input{tex/figures/Johnny_0_IDs}
Unlike the case of BasketballPass where the ID switch is caused by occlusion, ID switch in this sequence is caused by the "gap" in the trajectory, i.e., the detector fails to detect a particular object in a certain number of frames due to the drop of image quality in the trajectory but detect again. Based on all the increases of FP, FN, and IDs, the general tracking performance metric of MOTA decreases as QP increases.

Since IDs increases, we expect IDP to decrease. This is because the more ID switch occurs, the lower ID precision should be, and indeed IDR also decreases. The correlation between IDs and IDP is high, which can also be seen in Appendix \ref{sec:appendix/correlation}. Therefore, we confirmed that ID performance drops as QP increases. We also observed that other metrics such as detection performance and track quality drop as QP increases. The results in this sequence are different from the results on BasketballPass because the occlusion does not occur, so ID precision decreases as image quality drops.

\subsection{BlowingBubbles}
We will now examine the sequence where we observed an increase of MOTA with the increase of QP, which can be confirmed in the visualization in Figure \ref{fig:BlowingBubbles_0_multiplots_qp} and the numerical values in Table \ref{tab:BlowingBubbles_0}.
\input{tex/figures/BlowingBubbles_0_multiplots_qp}
\input{tex/tables/BlowingBubbles_0}
The MOTA visualization plot shows that the score increases until QP = 38 but decreases thereafter. To analyze this outcome, we inspected the video carefully frame by frame. From Figure \ref{fig:BlowingBubbles_0_frame465}, which shows frame 465, we observed a toy, a humanlike object, was detected as "person" in the uncompressed case and at QP = 18, 22, 26, but not thereafter.
\input{tex/figures/BlowingBubbles_0_frame465}
This reveals that the detector incorrectly detects and recognizes this object as "person" at the lower QP, but as the image quality drops at the higher QP, the detector starts to not detect this particular object. Note that this toy object is not a part of the ground truth. This outcome was also observed in the other frames as well. This observation illustrates that as QP increases, FP may decrease, leading to increased MOTA. In this sequence. after QP = 38, the image quality further drops, and as shown in Figure \ref{fig:BlowingBubbles_0_frame465}, one "person" object is not detected at QP = 46, thereby FN increases. We observed that not only MOTA, the detection performance and ID measure also behave in the same way such that the performance scores increase up to the middle of the QP range and decrease thereafter. Though there is no occlusion in this sequence, we observed IDs increasing due to the drop of the image quality that causes "gap" in a trajectory similar to the outcome in Johnny.


\subsection{Cactus}
Here, we will present the analysis of tracking results in this sequence, where "potted plant" is the only object. Similar to BlowingBubbles, we observed an increase of MOTA and F1 in the middle of the QP range, as shown in Figure \ref{fig:Cactus_58_multiplots_qp}. Table \ref{tab:Cactus_58} shows the corresponding numerical results. To explain this result, we inspected the video sequence frame by frame and compared various QP cases at frame 32, as shown in Figure \ref{fig:Cactus_58_frame032}.
\input{tex/figures/Cactus_58_multiplots_qp}
\input{tex/tables/Cactus_58}
\input{tex/figures/Cactus_58_frame032}
From this comparison, we observed that YOLOv3 incorrectly detect two objects at a single target until QP = 26. Ground truth only contains one "potted plant" object. At QP = 34, we can see the correctly detected object, but as QP increases further, the object is no longer detected and at QP = 46, YOLOv3 detected a wrong target. This illustrates the decrease of FP midway through the QP range and its increase again at high QP. It is also observed that FN decreases slightly at the middle of the QP range but increases at high QP, since the correct target is no longer detected. In fact, not only at frame 32, but we also observed similar outcomes in other frames. This reveals that the cause of an increase of MOTA midway through the QP range is due to the decrease of FP and FN. One reason for the outcome we observed at frame 32 could be that the type of object is problematic because there are three cactuses in a vase, so YOLOv3 incorrectly detect one of the cactuses as a "potted plant" instead of detecting all three cactuses in a vase as a "potted plant".


\subsection{Discussion}
We inspected the four individual video sequences to gain the better insight into the general tracking performance measured by MOTA. From the inspected video samples, we found that MOTA scores in BasketballPass and Johnny are consistent with the expectation that tracking performance decreases as QP increases. However, the MOTA scores in BlowingBubbles and Cactus increase midway through the QP range and decrease thereafter. We found that these results are due to the type of object that makes the YOLOv3 detector incorrectly detect wrong targets, and FP was observed to be high even in the uncompressed video. Recall that we are using SORT based on YOLOv3, so the tracking performance is dependent on the detection performance. Note that since FP was high in the uncompressed sequence, as QP increases and the image quality drops, FP was observed to decrease. This insight also explains why we observed an increase in Precision in the average results. From Equation \eqref{eqn:Precision}, Precision depends on TP and FP, and since FP decreases in some video samples, Precision was observed to increase.

Not only does the tracking performance depend on the quality of the detector, but it also depends on the quality of the tracker. Re-ID for the long-term undetection and occlusion is not implemented in our tracker, SORT, so it affects the ID measure and IDs.

Finally, for the MOTP metric, we observed an increase of MOTP with increasing QP in some sequences: BasketballPass, Johnny, and BlowingBubbles. Since MOTP measures how well the objects are localized relative to the ground truth, the results from individual sequences tell us that object localization improves midway through the QP range, but decreases thereafter as the image quality further drops. Not all the video sequences behave in this way, but these outcomes contributed to the average results.